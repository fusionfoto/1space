# Very similar to a proxy-server.conf

[DEFAULT]
bind_port = 8081
workers = 0
user = swift
log_facility = LOG_LOCAL6
log_level = DEBUG
log_name = proxymc
eventlet_debug = true
# swift_baseurl is used by proxymc app and proxymc auth middleware
set swift_baseurl = http://localhost:8080

[pipeline:main]
# Yes, proxy-logging appears twice. This is not a mistake.
pipeline = healthcheck proxy-logging cache proxymc-auth proxy-logging proxy-server

[app:proxy-server]
# Calling this "proxy-server" in the pipeline is a little white lie to keep the
# swift3 pipeline check from blowing up (if we were to make swift3 work in the
# future)
use = egg:swift-s3-sync#proxymc
conf_file = sync-config.json

[filter:healthcheck]
use = egg:swift#healthcheck

[filter:cache]
use = egg:swift#memcache

[filter:proxy-logging]
use = egg:swift#proxy_logging

[filter:proxymc-auth]
use = egg:swift-s3-sync#proxymc-auth
